<%# views/admin/partials/replied-messages-content.ejs - Contenido de la tabla de mensajes respondidos %>

<h2>Mensajes Respondidos</h2>

<% if (contacts && contacts.length > 0) { %>
    <table class="table table-striped table-hover caption-top">
        <caption>Registros de mensajes que han sido respondidos</caption>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Email</th>
                <th>Fecha Mensaje</th>
                <th>Mensaje Original</th>
                <th>País</th>
                <th>IP</th>
                <th>Estado</th>
                <th>Respuesta Admin</th> <%# Columna para la respuesta del administrador %>
                <th>Respondido Por</th> <%# Columna para quién respondió %>
                <th>Fecha Respuesta</th> <%# Columna para la fecha de respuesta %>
            </tr>
        </thead>
        <tbody>
            <% contacts.forEach(function(contact) { %>
                <tr>
                    <td><%= contact.id %></td>
                    <td><%= contact.name %></td>
                    <td><%= contact.email %></td>
                    <td><%= contact.timestamp ? new Date(contact.timestamp).toLocaleString() : 'N/A' %></td>
                    <td><%= contact.message %></td>
                    <td><%= contact.country || 'N/A' %></td>
                    <td><%= contact.clientIp || 'N/A' %></td>
                    <td><%= contact.status %></td>
                    <td><%= contact.replyMessage || 'N/A' %></td> <%# Muestra la respuesta del administrador %>
                    <td><%= contact.repliedBy || 'N/A' %></td> <%# Muestra quién respondió %>
                    <td><%= contact.repliedAt ? new Date(contact.repliedAt).toLocaleString() : 'N/A' %></td> <%# Muestra la fecha de respuesta %>
                </tr>
            <% }); %>
        </tbody>
    </table>
<% } else { %>
    <p>No hay mensajes respondidos disponibles.</p>
<% } %>
