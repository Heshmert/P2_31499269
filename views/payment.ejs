<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= pageTitle %></title>
    <link rel="stylesheet" href="css/pagos.css">
</head>
<body>
    <%- include('partials/header.ejs') %>
<main>
    <section id="payment-section" class="section">
        <div class="container">
            <h2><%= pageTitle %></h2>
            <p class="subtitle">Completa el siguiente formulario para procesar tu pago.</p>

            <div class="payment-form-container">
                <form action="/payment/add" method="POST" id="paymentForm">

                    <div class="form-group">
                        <label for="service-select">Selecciona el Servicio:</label>
                        <select id="service-select" name="service" required>
                            <option value="">Selecciona un Servicio</option>
                            <option value="pinchazo">Reparación de Pinchazo / Neumático</option>
                            <option value="mantenimiento">Mantenimiento General</option>
                            <option value="frenos-cambios">Ajuste de Frenos y Cambios</option>
                            <option value="diagnostico">Diagnóstico Completo</option>
                            <option value="bateria-scooter">Reparación Batería Patineta</option>
                            <option value="motor-scooter">Reparación Motor/Electrónica Patineta</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="email">Correo Electrónico:</label>
                        <input type="email" id="email" name="email" required placeholder="tu.correo@ejemplo.com">
                    </div>

                    <div class="form-group">
                        <label for="card-name">Nombre del Titular de la Tarjeta</label>
                        <input type="text" id="card-name" name="cardName" required placeholder="Nombre como aparece en la tarjeta">
                    </div>

                    <div class="form-group">
                        <label for="card-number">Número de Tarjeta</label>
                        <input type="text" id="card-number" name="cardNumber" required placeholder="XXXX XXXX XXXX XXXX" pattern="[0-9\s]{13,19}" title="Número de tarjeta (13 a 19 dígitos)">
                    </div>

                     <div class="form-row">
                         <div class="form-group">
                             <label for="expiry-month">Fecha de Expiración</label>
                             <div class="expiry-date-inputs">
                                 <select id="expiry-month" name="expiryMonth" required>
                                     <option value="">Mes</option>
                                     <% for(let i = 1; i <= 12; i++){%><option value="<%= String(i).padStart(2, '0') %>"><%= String(i).padStart(2, '0') %></option><% } %>
                                 </select>
                                 <span>/</span>
                                 <select id="expiry-year" name="expiryYear" required>
                                     <option value="">Año</option>
                                     <% const currentYear = new Date().getFullYear()-10; %>
                                     <% for(let i = 10; i > 0; i--){%><option value="<%= currentYear + i %>"><%= currentYear + i %></option><% } %>
                                 </select>
                             </div>
                         </div>

                          <div class="form-group">
                            <label for="cvv">Código de Seguridad (CVV/CVC):</label>
                            <input type="text" id="cvv" name="cvv" required placeholder="XXX" pattern="[0-9]{3,4}" title="Código de seguridad (3 o 4 dígitos)">
                        </div>
                     </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="amount">Monto a Pagar:</label>
                            <input type="number" id="amount" name="amount" required min="0.01" step="0.01" placeholder="0.00">
                        </div>

                         <div class="form-group">
                            <label for="currency">Moneda:</label>
                            <select id="currency" name="currency" required>
                                <option value="USD">USD</option>
                                <option value="EUR">EUR</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-large">Realizar Pago</button>
                </form>
            </div>
        </div>
    </section>
</main>

<%- include('partials/footer.ejs') %>
</body>
</html>